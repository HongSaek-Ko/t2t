<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.21.0/dist/jquery.validate.min.js"></script>-->
    <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
</head>
<body>
<h1> 회원 탈퇴 </h1>
<script th:inline="javascript">
  let result = [[${result}]];
  console.log(result);

  if(result) {
    // alert("회원 탈퇴가 완료되었습니다");

    // window.location.href="/";
    jqAlert("회원탈퇴가 완료되었습니다!", "회원 탈퇴 확인 창", function(){ window.location.href = "/" });
  }else {
    // alert("비밀번호가 틀렸습니다.");
    // history.go(-1);
    jqAlert("비밀번호가 일치하지 않습니다!", "회원 탈퇴 확인 창", function(){ history.go(-1) });
  }


  function jqAlert(outputMsg, titleMsg, onCloseCallback) {
      if (!titleMsg)
          titleMsg = 'Alert';

      if (!outputMsg)
          outputMsg = 'No Message to Display.';

      $("<div></div>").html(outputMsg).dialog({
          title: titleMsg,
          resizable: false,
          modal: true,
          buttons: {
              "OK": function () {
                  $(this).dialog("close");
              }
          },
          close: function() { onCloseCallback();
              /* Cleanup node(s) from DOM */
              $(this).dialog('destroy').remove();
          }
      });
  }
</script>
</body>
</html>